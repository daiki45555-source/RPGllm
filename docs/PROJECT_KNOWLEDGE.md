# RPGllm プロジェクト知識ベース

## 📚 プロジェクト概要

**タイトル**: 七つの願いが降る庭で ～In the Garden Where Seven Wishes Fall～
**ジャンル**: LLM-RPG（大規模言語モデル駆動型ロールプレイングゲーム）
**開発者**: 大器 (Daiki)
**AIアシスタント**: アンチグラヴィティ君 (Claude)

---

## 🎮 コアシステム

### 1. カルマシステム（6つの魂）
プレイヤーの行動選択でLLMの生成内容が変化する隠しパラメータ：
- 💙 **誠実 (Integrity)** - 真実、ルール遵守
- 💚 **親切 (Kindness)** - 慈悲、他者優先
- 💛 **正義 (Justice)** - 断罪、合理的判断
- 🧡 **勇気 (Bravery)** - 行動力、反逆
- 💜 **不屈 (Perseverance)** - 執着、分析
- 🩵 **忍耐 (Patience)** - 受容、慎重

### 2. 特異介入システム (S.I.)
- 自由記述でゲーム内因果を書き換える「奇跡」
- 1日1回使用可能
- カルマ値で結果が変異（低いと「猿の手」現象発生）

### 3. 絆ランクシステム（マスカレード・プロトコル）
- Rank 1-3: 接触前・初期認識
- Rank 4: 加入（神器装備状態）
- Rank 5-6: 日常と蓄積
- Rank 7: 匂わせ（ノイズ）
- Rank 8: 亀裂
- Rank 9: 問いかけ
- Rank 10: 開示（真名・真能力解放）

### 4. 死に戻りシステム
- HP0または365日経過でループ
- 所持品・好感度はリセット
- 基礎ステータス+1/回、カルマ値は保持

---

## 🌍 世界設定：ガイアレム

### 3大陸
1. **アルカディア大陸** - 人間の国々、スタート地点
2. **ネクロヴァ大陸** - 魔族の支配領域
3. **セラフィア大陸** - 魔法文明の大陸

### 観測神イデア
- ガイアレムを維持する「観測システム」
- プレイヤーの視線が途絶えると世界が崩壊
- 365日周期で「デトックス（大粛清）」を実行

---

## 👥 主要キャラクター

### プレイヤー（第7の意志）
- 現実世界から干渉する「外部入力」
- 透明な特異点（No Color）
- イデアにも予測できないブラックボックス

### ジャック・オリバー（正義）
- 真名: エル・カストルム6世
- 神器: 阿鼻叫喚（太刀・爆炎刀＋脇差・水銀刀）
- 二面性: 路地裏の善人 / 冷徹な皇帝

### マリアンヌ・ロス（優しさ）
- 真名: イザベラ・ロス
- 神器: 優しさのロザリオ
- 800年前に禁術で子供を焼き殺したトラウマ

### クロウ（忍耐）
- 真名: グノーシス・オルタ4世
- 神器: マリーのナイフ（万物のすり抜け）
- 復讐のため帝国解体を狙う

---

## 🛠️ 技術スタック

- **フロントエンド**: HTML5 / CSS3 / Vanilla JavaScript
- **オーディオ**: Web Audio API + AudioManager + SoundGenerator
- **ローカルサーバー**: http-server (Node.js)
- **データ保存**: localStorage

### 重要な読み込み順序
```html
<!-- SoundGenerator must load BEFORE AudioManager -->
<script src="js/systems/sound_generator.js"></script>
<script src="AudioManager.js"></script>
```

---

## 📅 開発履歴

### 2026-01-15〜16
- プロローグイベント実装完了
- オーディオ再生問題解決（スクリプト読み込み順序）
- キャラクター立ち絵表示システム実装
- UIレイアウト修正（立ち絵左寄せ、ダイアログ右寄せ）
- GitHubリポジトリ作成・集合知システム構築

---

## 🔗 リンク

- **GitHub**: https://github.com/daiki45555-source/RPGllm
- **ローカルサーバー**: http://localhost:3000
